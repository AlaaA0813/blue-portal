{% extends "layouts/base.html" %}

{% block title %}Edit Session{% endblock %}

{% block logout %}<a href="/logout" class="logout">Logout</a>{% endblock %}

{% block nav %}
    <li><a href="/" class="nav-link">Home</a></li>
    <li><a href="/courses/list" class="nav-link">Course List</a></li>
{% endblock %}

{% block content %}
  <form method="post">
    <label for="session_time">Session Time
      <input type="text" name="session_time" value="{{ session['meets'] }}" required />
    </label>
      {% if not assignments %}
        <label for="student_email" id="email-label">Student Email
          {% for student in students %}
            <input type="text" name="student_email" value="{{ student['email'] }}" />
          {% endfor %}
        </label>
        <input type="button" value="+" onclick="add_student()"></input>
      {% endif %}
    <input type="submit" value="Update Session" class="submit" />

    <script>
      const add_student = () => {
        let input = document.createElement("INPUT");
        let label = document.getElementById('email-label')
        input.setAttribute("type", "text");
        input.setAttribute("name", "student_email");
        input.style.width = "100%";
        label.appendChild(input);
      }
    </script>
  </form>
{% endblock %}
